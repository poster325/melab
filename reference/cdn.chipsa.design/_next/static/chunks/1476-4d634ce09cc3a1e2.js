"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1476],{11476:function(e,s,t){t.r(s),t.d(s,{RecognitionsSectionListItem:function(){return RecognitionsSectionListItem},default:function(){return index_RecognitionsSection}});var i=t(85893),n=t(93967),a=t.n(n),r=t(25675),l=t.n(r),o=t(67294),c=t(80663),d=t(61205),m=t(16893),u=t(65912),p=t(13114),h=t(79661),g=t(64196),x=t(70697),_=t(42378),j=t(76530),v=t(52735),f=t(502),N=t(63174),w=t(82215),b=t(74917),y=t(39688),k=t(93155),R=t(63672);let S=(0,o.forwardRef)((e,s)=>{let{onClose:t,data:n,initialCases:r,...l}=e,c=(0,o.useRef)(null);(0,N.t)(c,()=>t?.());let d=(0,b.b)(),m=(0,k.a)("(max-width: 1199px)");return(0,i.jsxs)(v.Z,{...l,ref:(0,j.l)([s,c]),className:"awards-slider-popup js-award-popup",onClose:()=>{t?.()},onWheel:e=>e.stopPropagation(),children:[(0,i.jsx)("div",{className:"awards-slider-popup__top",children:(0,i.jsxs)("button",{className:"awards-slider-popup__close-btn link link--underlined",onClick:t,children:[(0,i.jsx)(f.Z,{className:"awards-slider-popup__close-btn__icon","aria-hidden":"true"}),(0,i.jsx)("span",{children:w.l.CLOSE[d]})]})}),(0,i.jsx)("div",{className:"awards-slider-popup__inner",children:n.length>0&&(0,i.jsx)("ul",{className:"awards-slider-popup__list list-unstyled",children:n.map((e,s)=>{let t=(0,y.v)(e.projects,"name"),n={};return Object.keys(t).forEach(e=>{n[e]=t[e].flatMap(e=>e.data)}),e.projects.length>0&&(0,i.jsxs)("li",{className:"awards-slider-popup__org-list__item",children:[(0,i.jsxs)("div",{className:"h2 awards-slider-popup__title",children:[(0,i.jsx)("span",{className:"awards-slider-popup__title-item",children:(0,_.tp)(e.title,d)}),e.showTotal&&(0,i.jsxs)("span",{className:"awards-slider-popup__title-count",children:["(",e.projects.length,")"]})]}),(0,i.jsx)("ul",{className:"awards-slider-popup__projects list-unstyled",children:Object.keys(n).map((e,s)=>{let t=n[e],l=r.data.items.find(s=>s.name===e)?.slug;return t.length>0&&(0,i.jsxs)("li",{className:"awards-slider-popup__project award-project",children:[(0,i.jsx)("div",{className:"award-project__name text-h-m",children:l?(0,i.jsx)(R.Z,{href:`/works/${l}`,className:a()("link",{"link-underlined":m}),children:e}):(0,i.jsx)("p",{children:e})}),(0,i.jsx)("ul",{className:"award-project__categories list-unstyled",children:t.map((e,s)=>(0,i.jsxs)("li",{className:"award-project__category",children:[(0,i.jsx)("div",{className:"text-s award-category__name",children:e.category}),(0,i.jsx)("div",{className:"text-s award-category__year",children:e.year})]},s))})]},s)})})]},s)})})})]})});S.displayName="AwardSliderPopup";var z=t(41079),M=t(69854),Z=t(76305),C=t(32964),L=t(48828),E=t(84229);let $=(0,c.m)(l()),H={hidden:{opacity:0},visible:{opacity:1,transition:{delay:.1,duration:.65,ease:C.Y3}}},Y={hidden:{opacity:0,scale:.8},visible:{opacity:1,scale:1,transition:{delay:.1,duration:.65,ease:C.Y3}}},RecognitionsSectionListItem=e=>{let{title:s,amount:t,image:n,parallaxStrength:a=1,scrollYProgress:r}=e,l=(0,o.useRef)(null),u=function(e,s){let t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return(0,L.H)(e,[0,1],[t?0:-s,s].map(e=>e*i))}(r,1e3*a),p=(0,d._)(),g=(0,m.Y)(l,{once:!0}),j=(0,h.tm)(),v=(0,b.b)(),f=(0,o.useMemo)(()=>(0,_.tp)(s,v),[s,v]);return(0,i.jsx)("li",{className:"recognitions-list__item",children:(0,i.jsxs)(c.m.div,{ref:l,className:"recognitions-item",style:j()?{y:u,willChange:p}:void 0,children:[(0,i.jsxs)(c.m.div,{className:"recognitions-item__title-wrapper",variants:H,initial:"hidden",animate:g?"visible":"hidden",children:[(0,i.jsx)("div",{className:"recognitions-item__title",children:f}),t>0&&(0,i.jsxs)("div",{className:"recognitions-item__amount text-h-m",children:["(",t,")"]})]}),(0,i.jsx)(x.Z,{className:"recognitions-item__img-wrapper",children:n?.src&&(0,i.jsx)($,{src:n.src,fill:!0,alt:"",sizes:"(max-width: 767px) 100vw, 33.3vw",variants:Y,initial:"hidden",animate:g?"visible":"hidden"})})]})})};var index_RecognitionsSection=e=>{let{title:s,cardTitle:t,cardText:n,recognitions:r=[],organizations:l,total:d,orgNumbers:m,initialCases:h,...x}=e,_=(0,o.useRef)(null),{scrollYProgress:j}=(0,u.v)({target:_,offset:["start center","end start"]}),[v,f]=(0,o.useState)(!1),[N]=(0,Z.zY)(),[k]=(0,z.CH)(),R="recognitions",C=(0,b.b)(),L=(0,y.v)(r,"organization_name"),$=r.reduce((e,s)=>{let t=e.find(e=>e.title===s.organization_name);return t||e.push({title:s.organization_name,amount:L[s.organization_name].length,image:l.find(e=>e.id===s.organization_id)?.abstraction??void 0}),e},[]).slice(0,7),H=Object.keys(L).map(e=>({title:e,showTotal:!0,projects:L[e].map(e=>({name:e.work_name,data:[{category:e.name,year:e.year}]}))})),Y=[-.1,-.15,-.22,0,.1,.26,.15];return(0,i.jsxs)("section",{...x,ref:_,className:a()("section section--inverted section--with-all-link wrapper recognitions-section",x.className),id:R,"data-navigation-section":R,children:[(0,i.jsx)("button",{className:"section__all-link link link--underlined",onClick:()=>f(!0),children:w.l.ALL_AWARDS[C]}),s&&(0,i.jsx)("h2",{className:"section__title recognitions-section__title",children:(0,i.jsx)(M.Z,{stagger:.04,delay:.1,allowed:k,children:s})}),$.length>0&&(0,i.jsx)(g.Z,{children:(0,i.jsx)("ul",{className:"list-unstyled recognitions-list",children:$.map((e,s)=>(0,i.jsx)(RecognitionsSectionListItem,{title:e.title,amount:e.amount,image:e.image,scrollYProgress:j,parallaxStrength:(Y[s]||0)*("desktop"===N?1:.5)},s))})}),(0,i.jsx)(E.Z,{cardTitle:t,orgNumbers:m}),(0,i.jsx)(p.M,{children:v&&(0,i.jsx)(c.m.div,{className:"popup awards-slider-popup",initial:{x:"desktop"===N?"50%":"100%"},animate:{x:"0%"},exit:{x:"desktop"===N?"50%":"100%"},transition:{duration:.5},children:(0,i.jsx)(S,{name:"recognitions-award-popup",data:H,onClose:()=>f(!1),initialCases:h})})})]})}},84229:function(e,s,t){var i=t(85893),n=t(65912),a=t(48828),r=t(80663),l=t(67294),o=t(64196),c=t(93967),d=t.n(c),m=t(37288),u=t(42378),p=t(74917);s.Z=e=>{let{cardTitle:s,orgNumbers:t,...c}=e,h=(0,l.useRef)(null),g=(0,l.useRef)(null),x=(0,l.useRef)(null),[_,j]=(0,l.useState)({height:0}),[v,f]=(0,l.useState)({height:0}),{scrollYProgress:N}=(0,n.v)({target:h}),w=Math.abs(v.height-_.height),b=(0,a.H)(N,e=>-e*w),y=(0,p.b)(),[k,...R]=t;return(0,m.Z)(()=>{let onResize=()=>{g.current&&f({height:g.current.offsetHeight}),x.current&&j({height:x.current.offsetHeight})};return onResize(),window.addEventListener("resize",onResize),()=>{window.removeEventListener("resize",onResize)}},[]),(0,i.jsx)("div",{...c,ref:h,className:d()("recognitions-section-block-wrapper",c.className),style:{...c.style,height:`calc(100vh + ${w}px)`},children:(0,i.jsx)(o.Z,{ref:x,offset:40,className:d()({"recognitions-section-block--sticky-bottom":w<40}),children:(0,i.jsx)("div",{className:"recognitions-section-block",children:(0,i.jsxs)(r.m.div,{ref:g,className:"recognitions-section-block__content",style:{y:b},children:[(0,i.jsxs)("div",{className:"recognitions-section-block-first",children:[s&&(0,i.jsx)("div",{className:"text-s recognitions-section-block__text",children:s}),k&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"recognitions-section-block__awards",children:[(0,i.jsx)("div",{className:"number-l recognitions-section-block__awards-amount",children:k.num}),(0,i.jsx)("div",{className:"text-xl recognitions-section-block__awards-label",children:(0,u.tp)(`(\xa0${k.label}\xa0)`,y)})]}),k.description&&(0,i.jsx)("div",{className:"text-s recognitions-section-block__awards-bottom",children:(0,u.tp)(k.description,y)})]})]}),R.length>0&&(0,i.jsx)("div",{className:"recognitions-section-block-award-data-container",children:R.map((e,s)=>(0,i.jsxs)("div",{className:"recognitions-section-block-award-data",children:[(0,i.jsx)("div",{className:"number-m recognitions-section-block-award-data__value",children:e.num}),(0,i.jsx)("div",{className:"text-l recognitions-section-block-award-data__label",children:(0,u.tp)(`(\xa0${e.label}\xa0)`,y)}),e.description&&(0,i.jsx)("div",{className:"text-s recognitions-section-block-award-data__text",children:(0,u.tp)(e.description,y)})]},s))})]})})})})}},60114:function(e,s,t){var i=t(93967),n=t.n(i),a=t(67294),r=t(76530),l=t(79661);let o=(0,a.forwardRef)((e,s)=>{let{children:t,offset:i=0,...o}=e,c=(0,a.useRef)(null),d=(0,l.yU)({ref:c,box:"border-box"});return(0,a.cloneElement)(t,{ref:(0,r.l)([c,s]),...o,className:n()(t.props.className,o.className,"sticky-bottom"),style:{...o.style,"--element-height":`${(d.height??0)+i}px`}})});o.displayName="StickyBottom",s.Z=o},64196:function(e,s,t){t.d(s,{Z:function(){return i.Z}});var i=t(60114)},93155:function(e,s,t){t.d(s,{a:function(){return useMatchMedia}});var i=t(67294);let useMatchMedia=e=>{let s=(0,i.useMemo)(()=>matchMedia(e),[e]),[t,n]=(0,i.useState)(s?.matches||!1);return(0,i.useEffect)(()=>{let onMediaQueryChange=()=>{n(s?.matches||!1)};return s?.addEventListener("change",onMediaQueryChange),()=>{s?.removeEventListener("change",onMediaQueryChange)}},[s]),t}},39688:function(e,s,t){t.d(s,{v:function(){return groupBy}});function groupBy(e,s){return e.reduce((e,t)=>{let i=`${t[s]}`;return("string"==typeof i||"number"==typeof i)&&(e[i]=e[i]??[],e[i].push(t)),e},{})}}}]);