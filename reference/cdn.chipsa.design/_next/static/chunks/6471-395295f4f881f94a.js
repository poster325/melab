"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6471],{21079:function(e,t,n){let s;n.d(t,{Z:function(){return f}});var a=n(85893),i=n(67294),r=n(93967),o=n.n(r),l=n(79661),c=n(15947),d=n(88399);function timeout(e){return new Promise(t=>setTimeout(t,e))}var u=n(86306);let onNewPageReady=()=>{requestAnimationFrame(async()=>{document.documentElement.classList.remove("is-page-leaving-default"),await timeout(1e3),window._lenis?.start()})},m={default:()=>new Promise(async e=>{clearTimeout(s),document.removeEventListener("new-page-ready",onNewPageReady);let t=document.querySelector(".js-page");if(t){let{scrollY:n}=window,{offsetHeight:a}=t,i=u.P.height/(a-u.P.height)/2+n/(a-u.P.height-u.P.height/(a-u.P.height));t.style.setProperty("--koef",`${-i*u.P.width*.0375}px`),t.style.transformOrigin=`50% ${100*i}%`,window._lenis?.stop(),requestAnimationFrame(()=>{document.documentElement.classList.add("is-page-leaving-default")}),document.addEventListener("new-page-ready",onNewPageReady,{once:!0}),s=setTimeout(()=>{requestAnimationFrame(async()=>{t.classList.add("is-leaving"),await timeout(500),document.dispatchEvent(new Event("default-page-transition-scale-out-start")),await timeout(600),document.dispatchEvent(new Event("default-page-transition-scale-out")),e()})},100)}else e()}),instant:()=>timeout(100).then(()=>Promise.resolve())},usePageTransition=()=>{let[{name:e,targetElement:t},n]=(0,d.cB)(),[s,a]=(0,c.oO)(),[r,o]=(0,d.Vr)(),l=(0,i.useRef)();(0,i.useEffect)(()=>{s||r||(clearTimeout(l.current),o(!0),m[e]({targetElement:t}).then(()=>{a(),n({mode:d.ws,name:d.j2})}).finally(()=>{l.current=setTimeout(()=>{o(!1)},1e3)}))},[n,s,e,a,r,o,t])};var p=n(82215),h=n(74917);let v=(0,i.forwardRef)((e,t)=>{let{children:n,breadcrumbs:s=[],...i}=e,r=(0,h.b)();return usePageTransition(),(0,l.LI)(()=>{document.dispatchEvent(new Event("new-page-ready"))},[]),(0,a.jsxs)("div",{...i,ref:t,className:o()("page js-page",i.className),children:[s.length>0&&(0,a.jsx)("nav",{"aria-label":p.l.BREADCRUMBS[r],className:"breadcrumbs account-breadcrumbs",itemScope:!0,itemType:"http://schema.org/BreadcrumbList",children:(0,a.jsx)("ol",{className:"breadcrumbs-list visually-hidden",children:s.map((e,t)=>(0,a.jsxs)("li",{className:"breadcrumbs-list__item",itemProp:"itemListElement",itemScope:!0,itemType:"http://schema.org/ListItem",children:[t===s.length-1?(0,a.jsx)("span",{className:"link breadcrumb__link",itemProp:"item",children:e.text}):(0,a.jsx)("a",{href:e.href,className:"link breadcrumb__link",itemProp:"item",children:e.text}),(0,a.jsx)("meta",{itemProp:"position",content:`${t+1}`})]},t))})}),(0,a.jsx)("div",{className:"page-inner",children:n})]})});v.displayName="DefaultLayout";var f=v},68500:function(e,t,n){n.d(t,{Z:function(){return u}});var s=n(67294),a=n(93967),i=n.n(a),r=n(79661),o=n(52732),l=n.n(o),c=n(76530);let d=(0,s.forwardRef)((e,t)=>{let{children:n,...a}=e,o=(0,s.useRef)(null),d=(0,r.O_)();return(0,s.useEffect)(()=>{let e=d?new(l())({elements_selector:"video.lazy",threshold:1200,container:o.current?.parentElement??document.body}):null;return()=>{e?.destroy()}},[d]),(0,s.cloneElement)(n,{...a,ref:(0,c.l)([t,o]),className:i()(n.props.className,a.className,"lazy")})});d.displayName="Lazy";var u=(0,s.memo)(d)},87739:function(e,t,n){var s=n(85893),a=n(67294),i=n(16893),r=n(61205),o=n(80663),l=n(32964),c=n(58764);t.Z=(0,a.memo)(e=>{let{children:t,delay:n=0,duration:d=1.2,stagger:u=0,allowed:m=!0,easeFunction:p=l.J7,paddingTop:h="0.13em",...v}=e,f=(0,a.useRef)(null),y=(0,i.Y)(f,{once:!0}),x=(0,r._)(),w=t.split(" "),_=(0,c.Y)();return(0,s.jsx)("span",{...v,ref:f,style:{...v.style,display:"block"},children:w.map((e,a)=>(0,s.jsx)("span",{style:{display:"inline-block",overflow:_?"hidden":CSS.supports("overflow","clip")?"clip":"hidden",paddingTop:h,pointerEvents:"none"},children:(0,s.jsx)(o.m.span,{initial:{y:"150%"},animate:m&&y?"visible":"hidden",variants:{visible:e=>({y:0,transition:{duration:d,delay:n+u*e,ease:p}})},style:{display:"inline-block",willChange:x},custom:a,children:e+(a!==w.length-1?"\xa0":"")})},t+a))})})},69854:function(e,t,n){n.d(t,{Z:function(){return s.Z}});var s=n(87739)},27105:function(e,t,n){var s=n(85893),a=n(67294),i=n(25675),r=n.n(i),o=n(80663),l=n(70697),c=n(36573),d=n(56818),u=n(37082),m=n(9878),p=n(37288),h=n(68500),v=n(91296),f=n.n(v),y=n(54619),x=n(76530),w=n(74917),_=n(82215);let g={initial:{x:"-50%",y:"-50%",scale:0},animate:{x:"-50%",y:"-50%",scale:1},exit:{x:"-50%",y:"-50%",scale:0}},b=(0,a.forwardRef)((e,t)=>{let{title:n,description:i,externalCurrentTime:v,externalIsPlaying:b=!1,withPlayer:j,preview:E,videoDict:N,lazy:L=!1,videoSrc:P,videoRef:k,...T}=e,R=(0,a.useRef)(null),Z=(0,a.useRef)(null),M=(0,w.b)(),[A,C]=(0,a.useState)(!0),[F,I]=(0,a.useState)(b),[S,D]=(0,c.OY)(),[q,z]=(0,c.t6)(),[B,O]=(0,c.r8)(),[Y,U]=(0,c.tf)(),[V,$]=(0,a.useState)("desktop");return(0,p.Z)(()=>{let e=f()(()=>{window.matchMedia("(min-width: 1500px)").matches?$("desktop"):window.matchMedia("(min-width: 1280px)").matches?$("laptop"):$("touch")},70);return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]),(0,a.useEffect)(()=>{let e=R.current;return e&&(F?(e.play().catch(),z("play")):(U(e.currentTime),e.pause(),z("pause"))),()=>{e&&e.pause()}},[F,z,U]),(0,a.useEffect)(()=>{let e=R.current,onTimeUpdate=e=>{e.target instanceof HTMLVideoElement&&U(e.target.currentTime)};return e&&e.addEventListener("timeupdate",onTimeUpdate),()=>{e&&e.removeEventListener("timeupdate",onTimeUpdate)}},[U]),(0,a.useEffect)(()=>{let{current:e}=R,onDurationChange=()=>{e&&!isNaN(e.duration)&&O(e.duration)};return onDurationChange(),e&&e.addEventListener("durationchange",onDurationChange),()=>{e&&(e.removeEventListener("durationchange",onDurationChange),isNaN(e.duration)||O(e.duration))}},[O]),(0,a.useEffect)(()=>{R.current&&v&&(R.current.currentTime=v)},[v]),(0,a.useEffect)(()=>{I(b)},[b]),(0,a.useEffect)(()=>()=>{D("default")},[D]),(0,s.jsxs)(s.Fragment,{children:[n&&(0,s.jsx)("h2",{className:"h4 constructor-block__title",children:n}),(0,s.jsxs)("button",{ref:(0,x.l)([t,Z]),type:"button",className:"video-block",onClick:()=>{C(!1),I(!F)},onPointerEnter:()=>{D("video")},onPointerMove:()=>{"video"!==S&&D("video")},onPointerLeave:()=>{D("default")},"aria-label":_.l.TOGGLE_VIDEO_PLAYBACK[M],children:[!j&&(0,s.jsxs)(o.m.div,{...g,className:"cursor__inner cursor__inner--video video-block-mobile-button",children:[(0,s.jsxs)("div",{className:"video-block__icon-square",children:[(0,s.jsx)("div",{className:"video-block__icon-square__bg",style:{transform:`scaleY(${1-(1-Y/B)})`}}),"play"===q?(0,s.jsx)(u.Z,{style:{position:"relative",left:1}}):(0,s.jsx)(m.Z,{style:{position:"relative",left:1}})]}),(0,s.jsxs)("div",{className:"text-default video-block__action",children:["play"===q?"pause":"play"," ",B>0&&(0,s.jsxs)(s.Fragment,{children:["(",(0,d.zG)(Math.floor(B-Y),1),")"]})]})]}),(0,s.jsx)("div",{className:"video-block__responsive-wrapper",children:(0,s.jsxs)(l.Z,{className:"video-block__responsive",children:[A&&E&&!F&&(0,s.jsx)(r(),{src:E.src,width:E.width,height:E.height,className:"responsive__item",alt:""}),L?(0,s.jsxs)(s.Fragment,{children:[N?.[V]&&(0,s.jsx)(h.Z,{ref:(0,x.l)([R,k]),children:(0,s.jsxs)("video",{...T,playsInline:!0,onLoadedMetadata:()=>{O(R.current.duration)},onEnded:()=>{U(0),I(!1)},className:"responsive__item",children:[N[V].av1&&(0,s.jsx)("source",{"data-src":N[V].av1,type:'video/mp4; codecs="av01.0.04M.08"; profiles="isom,av01,iso2,mp41"'}),N[V].hevc&&(0,s.jsx)("source",{"data-src":N[V].hevc,type:"video/mp4; codecs=hvc1"}),N[V].webm&&(0,s.jsx)("source",{"data-src":N[V].webm,type:"video/webm"}),N[V].mp4&&(0,s.jsx)("source",{"data-src":N[V].mp4,type:"video/mp4"})]})}),P&&(0,s.jsx)(h.Z,{ref:R,children:(0,s.jsx)("video",{...T,playsInline:!0,onLoadedMetadata:()=>{O(R.current.duration)},onEnded:()=>{U(0),I(!1)},hidden:A&&!T.autoPlay,className:"responsive__item",children:P.map((e,t)=>(0,s.jsx)("source",{"data-src":(0,y.L)(e.src),type:e.type},t))})})]}):(0,s.jsxs)(s.Fragment,{children:[N&&(0,s.jsxs)("video",{...T,ref:R,playsInline:!0,onLoadedMetadata:()=>{O(R.current.duration)},onEnded:()=>{U(0),I(!1)},hidden:A&&!T.autoPlay,className:"responsive__item",children:[N[V]?.webm&&(0,s.jsx)("source",{src:N[V].webm,type:"video/webm"}),N[V]?.mp4&&(0,s.jsx)("source",{src:N[V].mp4,type:"video/mp4"})]}),P&&(0,s.jsx)("video",{...T,ref:R,playsInline:!0,onLoadedMetadata:()=>{O(R.current.duration)},onEnded:()=>{U(0),I(!1)},hidden:A&&!T.autoPlay,className:"responsive__item",children:P.map((e,t)=>(0,s.jsx)("source",{src:(0,y.L)(e.src),type:e.type},t))})]})]})})]}),i&&(0,s.jsx)("p",{className:"constructor-block__description",children:i})]})});b.displayName="VideoBlock",t.Z=b},58764:function(e,t,n){n.d(t,{Y:function(){return useIsFirstRender}});var s=n(67294);function useIsFirstRender(){let e=(0,s.useRef)(!0);return e.current?(e.current=!1,!0):e.current}},54619:function(e,t,n){n.d(t,{L:function(){return convertPathApiAsset}});let convertPathApiAsset=e=>(e.startsWith("/storage")?"https://chipsa.ru":"")+e}}]);